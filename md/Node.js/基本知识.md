# 基本知识

## 什么是node

* node不是一种语言,它和浏览器很相似,是一个渲染和解析JS代码的环境平台,而且这个平台渲染JS的引擎就是谷歌的V8引擎
* JS不仅仅是可以在客户端(浏览器)运行,还可以在node环境中运行,只要在服务器上安装node环境

## node特点

* 基于V8引擎进行解析和渲染,速度快,性能好
* 单线程异步基于事件驱动处理的
* 无阻塞I/O操作(文件操作): 当JS在客户端(浏览器)上运行的时候,为了保证用户电脑信息的安全,浏览器会禁止JS代码操作客户本地文件,当JS运行在node环境中时,是可以操作本机文件的

## node和谷歌浏览器的区别

* 谷歌浏览器的全局对象是window,node环境中的全局对象是global
* 在node环境下写JS不需要考虑兼容性问题

## node的模块

* 内置模块: node平台提供的
* 第三方模块: 别人写好的我们拿来使用,需要下载并引入
* 第三方模块网站: https://www.npmjs.com
* 第三方模块的安装统一使用npm install
* 自定义模块: 在node运行环境中新建一个JS文件,就相当于增加了一个自定义模块,模块和模块之间是相互独立互不影响的
* 如果想在A模块中使用B模块,就需要引入

## 第三方模块

* npm init 可以在项目文件中生成一个package.json的文件,这个文件是当前项目的配置清单
* 以后在安装第三方模块的时候就可以把安装模块的配置信息存储在这个配置文件中
* npm install XXX --save-dev(配置的是开发依赖模块)
* npm install XXX --save(配置的是生产依赖模块)
* 在当前项目中把需要的模块信息都存储在配置信息package.json中,到下一个项目的时候,如果下一个项目中所需要的依赖模块和这个很相似,只需要将这个package.json文件copy过去,在下一个项目的命令窗口中执行npm install,会把之前存储在配置文件中的所有依赖模块全部下载下来(俗称跑环境)
* 查看当前模块的版本号: npm view XXX > XXX.txt
* 安装指定版本的模块: npm install XXX@2.0.0 -- save-dev

## 数据请求

* 一个网页展示需要请求多次,不止是页面打开的URL地址,还有浏览器在渲染页面的时候引入的外部文件例如:CSS,JS,img,audio,video....等等,都需要再次请求数据
* 可以通过谷歌控制台的network来查看,所有的请求记录和信息
* 客户端向服务器发送请求,不仅仅是通过url或者文件路径的方式来请求资源文件,更多的时候是通过数据接口来请求相应的数据,比如通过AJAX的方式请求,请求的接口API是后台给的,这两种方式的原理是不一样的
* 如果请求的路径pathname中有文件的后缀名,请求的就是资源文件
* 后台获取的内容大部分都是字符串格式的数据,返回给客户端的数据基本都是字符串格式的,而部分IE浏览器识别不出这种形式的HTML/CSS/JS的类型,所以服务器返回数据给客户端的时候要告诉客户端返回数据的类型(MIME)
* 不同文件的MIME类型:

| 文件种类 | MIME类型 |
| :----- | -------- |
| HTML  | text/html |
| CSS   | text/css  |
| JS    | text/javascript | 
| PNG   |   image/png  |
| JPG   |   image/jpg |
| GIF 　|    image/gif |

## 如何提高页面的加载性能

* 页面刚开始加载(刚打开页面的时候),减少客户端的请求信息(减少HTTP请求),请求的内容越少,次数越少,打开页面的速度就越快
* 把CSS和JS进行合并压缩(gulp/webpack自动化平台)
* CSS Sprite技术,对于动态图片,可以延迟加载
* 数据的分批异步加载
