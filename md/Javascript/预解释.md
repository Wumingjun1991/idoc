# 预解释(变量提升)

## 什么是预解释

* 在当前作用域下,在JS代码执行之前,浏览器首先会默认的把所有带var和function的进行提前的声明或者定义
* 声明(declare): 告诉浏览器在当前作用域中有一个叫xxx的变量,如果一个变量只声明了但没有赋值,默认值是undefined
* 定义(defined): 给变量进行赋值
* var: 在预解释的时候只是提前的声明
* function: 在预解释的时候声明和定义都完成了
* 预解释只发生在当前作用域下
* 函数的执行可以写在函数的定义前面,因为预解释的时候函数就已经声明和定义了

## 内存的分类

* 栈内存: 用来提供一个供JS代码执行的环境,全局作用域和私有作用域
* 堆内存: 用来存放引用数据类型,例如对象数据类型存的键值对和函数数据类型存的代码字符串

## 函数执行机制

* 形成一个私有作用域
* 如果有形参,先给形参赋值
* 进行私有作用域中的预解释
* 私有作用域中的代码从上到下执行

## 私有变量和全局变量

* 在**全局作用域**下声明(预解释的时候)的变量是全局变量
* 在**私有作用域**中声明的变量和**函数的形参**都是私有的变量

## 作用域链

* 在私有作用域中,代码执行的时候遇到了一个变量,首先要确定这个变量是否为私有变量,如果是私有变量,那么和外面没有任何关系,如果不是私有的,则往当前作用域的上级作用域进行查找,如果上级作用域也没有则继续查找,直到找到window为止,如果还没有,就会报错

## 闭包

* 函数形成的私有作用域保护了里面的私有变量不受外界干扰(外面修改不了私有的,私有的也修改不了外面的)



